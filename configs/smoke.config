/*
 * Smoke test config (local quick runs, optional GPU test)
 */

process {
    executor = 'local'
    cpus     = 1
    memory   = '2 GB'
    time     = '1h'

    // GPU label (optional, for testing GPU processes)
    withLabel: gpu {
        cpus   = 2
        memory = '4 GB'
        time   = '2h'
        clusterOptions = '--gres=gpu:1'
    }
}

workDir = './work'  // local working directory
cleanup = true
resume  = true

singularity {
    enabled    = true
    autoMounts = true
    cacheDir   = './.singularity_cache'  // local cache for Singularity images
}


// --- Reporting ---
timeline {
    enabled = true
    file    = 'logs/timeline.html'
}

report {
    enabled = true
    file    = 'logs/report.html'
}

trace {
    enabled = true
    file    = 'logs/trace.txt'
}

dag {
    enabled = true
    file    = 'logs/dag.png'
}
